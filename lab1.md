University: [ITMO University](https://itmo.ru/ru/)

Faculty: [FICT](https://fict.itmo.ru)

Course: [IP-Telephony](https://itmo-ict-faculty.github.io/ip-telephony)

Year: 2022/2023

Group: K34212

Author: Gavrilushkin Alexandr Alekseevich

Lab: Базовая настройка ip-телефонов в среде Сisco packet tracer

Date of create: 19.03.2023

Date of finished: 19.03.2023

## Часть 1

В первой части лабораторной работы необходимо было собрать простую сеть из 7 компьютеров, соединенных 4 коммутаторами. Итоговая схема изображена на рисунке ниже:

![Схема](https://user-images.githubusercontent.com/52206303/226181060-123cc0a2-3b79-48f5-aac2-ae3819c6c0ea.png)

Далее я назначил каждому компьютеру локальный IPv4-адрес с помощью графического интерфейса (для той же цели можно воспользоваться командой ipconfig) в диапазоне 192.168.1.2-8:

![Настройка IP](https://user-images.githubusercontent.com/52206303/226181477-75fc4678-2221-4c98-b76d-03f11462d1ba.png)

Теперь можно проверить работоспособность сети с помощью пингов:

![Пинги](https://user-images.githubusercontent.com/52206303/226181665-30b29bc7-342b-49a2-9a32-7b940a935b80.png)

Все пакеты достигли своих адресатов, значит, сеть настроена корректно.

## Часть 2

Во второй части лабораторной работы необходимо было настроить IP-телефонию в простой топологии из двух IP-телефонов, коммутатора и роутера с поддержкой Cisco CallManager Express (CME). Схема сети представлена на рисунке ниже:

![Схема](https://user-images.githubusercontent.com/52206303/226194801-8d2429a6-d1fd-43f1-b1ec-6a96496e630d.png)


Перед началом работы подключим телефоны к сети через интерфейс:
![Power On](https://user-images.githubusercontent.com/52206303/226189344-710dbd3f-c989-46e0-a6fa-db447f0237a8.png)

Чтобы изменять конфигурации устройст через терминал, необходимо зайти в привелигерованный режим:
```
Router>enable
Router#config terminal
```

Теперь изменим имя роутера на CMERouter:

![CMERouter](https://user-images.githubusercontent.com/52206303/226183042-9f66b321-4995-436f-b3c2-94df677862f4.png)

Назначим интерфейсу, к которому подсоединен коммутатор, IP-адрес 192.168.1.1:

![Router Interface](https://user-images.githubusercontent.com/52206303/226183269-757ffa99-2dc7-4215-ba6c-3322ef237172.png)

Настроим DHCP-сервер для автоматической настройки телефонов. Для этого создаем пул с TELEPHONY, назначаем ему сеть 192.168.1.0 и дефолтный роутер, который мы настроили в предыдущем пункте. При передаче голоса необходимо включить на DHCP опцию 150, чтобы телефоны импортировали настройки с TFTP (Trivial File Transfer Protocol):

![DHCP](https://user-images.githubusercontent.com/52206303/226183436-1080cb51-1ad9-4811-84f2-fa271bbf4971.png)

Устанавливаем максимальное количество номеров и телефонов, указываем адрес голосового шлюза и настраиваем автоматическое назначение линий:

![Телефония](https://user-images.githubusercontent.com/52206303/226198806-a169e4b1-e586-4f1c-9927-306c83428f7d.png)

Назначаем портам коммутатора VLAN:

![Switch](https://user-images.githubusercontent.com/52206303/226185431-3541ee4d-1883-4630-92a4-bf14fc533823.png)

Включаем все VLAN интерфейсы на коммутаторе и маршрутизаторе:
```
interface vlan1
no shutdown
```
Проверим настройки отправив пинг с роутера на оба телефона:

![Пинги](https://user-images.githubusercontent.com/52206303/226195067-9ffca045-838e-4703-a32d-77095acf734a.png)

Пинги проходят, значит, сеть настроена корректно. Попробуем совершить "звонок":

![Звонок](https://user-images.githubusercontent.com/52206303/226193811-9bbc4584-ccd8-4b84-b078-04332e41abcf.png)

Звонок проходит успешно, можно послать короткое звуковое сообщение с одного телефона на другой. Протестировать работу перевода звонков, перехвата не предоставляется возможным, так как роутер не поддерживает эти функции.

Диаграмма получившейся сети представлена на рисунке ниже:

![Схема](https://user-images.githubusercontent.com/52206303/226196498-5caac890-59af-4a45-9cab-c994e4a3afd0.png)

## Вывод
В ходе лабораторной работы я получил базовые навыки работы с IP-телефонией на базе Cisco Callmanager Express, смоделировал PC-сеть и сеть IP-телефонов. Для сети c телефонией настроил VLAN и DHCP-сервер, автоматически выдал телефонам линии и смог провести "звонок" между двумя устройствами.
